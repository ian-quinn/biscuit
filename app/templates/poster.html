{% extends 'base.html' %}
{% block title %}Poster - {{ title }}{% endblock %}

{% block styles %}
<link href="https://vjs.zencdn.net/8.3.0/video-js.css" rel="stylesheet" />
{% endblock %}

{% block content %}
<section class="page-header page-header-modern bg-color-light-scale-1 page-header-lg">
    <div class="container">
        <div class="row">
            <div class="col-md-8 order-2 order-md-1 align-self-center p-static">
                <h1 class="text-dark">Posters</h1>
            </div>
            <div class="col-md-4 order-1 order-md-2 align-self-center">
                <ul class="breadcrumb d-block text-md-end">
                    <li>Home</li>
                    <li>Event</li>
                    <li class="active">Gallery</li>
                </ul>
            </div>
        </div>
        {% if current_user.is_authenticated %}
        <div style="text-align: right;">
            <p>Welcome, {{ current_user.name }}! <a style="padding-left: 10px;" href="{{ url_for('logout') }}"><i class="fas fa-sign-out-alt"></i></a></p>
        </div>
        {% endif %}
    </div>
</section>

<div class="container pt-2 pb-4">

    <div class="row justify-content-center">
        <div class="col-lg-8">
            <div class="my-4">
                <h4 class="font-weight-normal text-7" style="letter-spacing: 0px;">{{ title }}</h4>
            </div>

            <div style="display:flex; justify-content:space-between;">
                <span>Contribution ID - {{ paper_id }}</span>
                <span>No. {{ id_loc + 1 }}/{{ id_total }}</span>
            </div>
        </div>
    </div>
    
    {% if current_user.is_authenticated %}
    <div class="row">
        <div class="col-lg-2" style="display: flex; justify-content: center; align-items: center;">
            <div style="font-size:5em;">
                <a href="{{ url_for('view_poster', poster_id=prev_id) }}"><i class="fas fa-chevron-left"></i></a>
            </div>
        </div>

        <div class="col-lg-8">
            <div class="py-4">
                <div style="border: 1px solid #921f42; border-radius: 5px;">
                    <img width="100%" height="auto" src="{{ path_img }}" alt="{{ title }}">
                </div>
            </div>
        </div>

        <div class="col-lg-2" style="display: flex; justify-content: center; align-items: center;">
            <div style="font-size:5em;">
                <a href="{{ url_for('view_poster', poster_id=next_id) }}"><i class="fas fa-chevron-right"></i></a>
            </div>
        </div>

    </div>

    <div class="row justify-content-center">
        <div class="col-lg-8">
            <div class="my-4">
                {% if path_mp4 %}
                <video
                    id="my-video"
                    class="video-js"
                    controls
                    preload="auto"
                    width="100%"
                    height="auto"
                    poster="{{ path_cover }}"
                    data-setup="{}" 
                    autoplay loop muted playsinline
                  >
                    <!-- <source src="//vjs.zencdn.net/v/oceans.mp4" type="video/mp4"> -->
                    <!-- <source src="//vjs.zencdn.net/v/oceans.webm" type="video/webm"> -->
                    <source src="{{ path_mp4 }}" type="video/mp4">
                    <p class="vjs-no-js">
                      To view this video please enable JavaScript, and consider upgrading to a
                      web browser that
                        <a href="https://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a>
                    </p>
                </video>
                {% endif %}

                <div class="my-4">. </div>

                <p><strong>ABSTRACT</strong> {{ abstract }} </p>
            </div>
        </div>
    </div>
    {% else %}
    <p>** Content available after login **</p>
    {% endif %}

    
</div>
{% endblock %}