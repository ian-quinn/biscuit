{% extends 'base.html' %}
{% block title %}Cert{% endblock %}

{% block content %}
<section class="page-header page-header-modern bg-color-light-scale-1 page-header-lg">
    <div class="container">
        <div class="row">
            <div class="col-md-8 order-2 order-md-1 align-self-center p-static">
                <h1 class="text-dark">Certificate</h1>
            </div>
            <div class="col-md-4 order-1 order-md-2 align-self-center">
                <ul class="breadcrumb d-block text-md-end">
                    <li>Home</li>
                    <li>About</li>
                    <li class="active">Certificate</li>
                </ul>
            </div>
        </div>
    </div>
</section>
 
<div class="container pt-2 pb-4">
    <div class="row justify-content-center">
        <div class="col-lg-8">

            <p>For <b>Certificate of Attendance</b>, retrieve it by entering the registered ConfTool email below. If there is anything wrong with the database, please report to secretariat@bs2023.org</p>

            {% with messages = get_flashed_messages(with_categories=True) %}
            {% if messages %}
            <div>
                {% for category, message in messages %}
                {% if category == 'warning' %}
                <div class="alert alert-{{ category }} alert-dismissible" role="alert" id="faded">
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close">
                    </button>
                </div>
                {% endif %}
                {% endfor %}
            </div>
            {% endif %}
            {% endwith %}

            <div class="card my-5" style="background-color: #f9f9f9">
                <div class="card-body">

                    <form class="contact-form" action="{{ url_for('certificate') }}" method="POST" enctype="multipart/form-data">
                        <!-- <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/> -->
                        {{ form_cert.hidden_tag() }}

                        <div class="row" style="margin-bottom: -15px;">
                            <div class="form-group col-md-6">
                                {{ form_cert.email(class="form-control text-3 h-auto", placeholder="Your ConfTool account email") }}
                                {% for error in form_cert.email.errors %}
                                <small style="color: #dc3545">{{ error }}</small>
                                {% endfor %}
                            </div>
                            <div class="form-group col-md-6">
                                {{ form_cert.submit(type="submit", value="Get my certificate", class="btn btn-outline-danger w-100") }}
                            </div>
                        </div>
                    </form>

                </div>
            </div>

            <p>For <b>Paper Acceptance</b> proof, direct to <a href="{{ url_for('publication') }}">bs2023.org/publication</a></p>
            <p>For <b>Reviewer Contribution</b> acknowledgement, direct to <a href="{{ url_for('reviewer') }}">bs2023.org/reviewer</a></p>
            <p>For <b>Session Chair Contribution</b> acknowledgement, contact secretariat@bs2023.org</p>
            <div class="py-5"></div>
        </div>
    </div>
    
</div>
{% endblock %}

{% block scripts %}
<script>
  document.querySelector('.custom-file-input').addEventListener('change', function (e) {
    var name = document.getElementById("customInput").files[0].name;
    var label = document.getElementById("inputLabel");
    label.innerText = name
  })
</script>
{% endblock %}